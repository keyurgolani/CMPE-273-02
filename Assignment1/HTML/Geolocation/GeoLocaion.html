<!DOCTYPE html>

<!--

	Topic: HTML5 GeoLocation
	Problem: Showing user's current location on the world's map
	Note:

 -->

<html>
<head>
<title>GeoLocation Problem</title>
<meta name="description"
	content="A web app that shows the position exact opposite to user's current location on the globe.">
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, width=device-width" />
<script src="http://js.api.here.com/v3/3.0/mapsjs-core.js" type="text/javascript" charset="utf-8"></script>
<script src="http://js.api.here.com/v3/3.0/mapsjs-service.js" type="text/javascript" charset="utf-8"></script>
<style>
html, body {
	height: 100%;
	margin: 0;
	padding: 0;
}
#map {
	height: 100%;
}
</style>
</head>
<body>
	<div style="width: 640px; height: 480px" id="result"></div>
	<script>
	if (navigator.geolocation) {
			navigator.geolocation.getCurrentPosition(function(position) {
				var platform = new H.service.Platform({
					'app_id': 'UBrUGExn7Jx5umn7WsYX',
					'app_code': 'OoRx7fPWlAqTlBaN0nOLJA'
				});
				var defaultLayers = platform.createDefaultLayers();
				var map = new H.Map(document.getElementById('result'), defaultLayers.normal.map,
				{
					zoom: 8,
				});
				var svgMarkup = '<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"> <rect stroke="white" fill="#1b468d" x="1" y="1" width="22" height="22" /> <text x="12" y="18" font-size="12pt" font-family="Arial" font-weight="bold" text-anchor="middle " fill="white">H</text></svg>';
				var icon = new H.map.Icon(svgMarkup), coords = {lat: position.coords.latitude, lng: position.coords.longitude}, marker = new H.map.Marker(coords);
				map.addObject(marker);
				map.setCenter(coords);
			});
		}
</script>
</body>
</html>
